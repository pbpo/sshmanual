<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>연구실 서버 접속 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        body { font-family: 'Pretendard', sans-serif; }
        .step-card { transition: all 0.3s ease; }
        .step-card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .code-block { font-family: 'Menlo', 'Monaco', 'Courier New', monospace; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Header -->
    <header class="bg-indigo-600 text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i data-lucide="server" class="w-6 h-6"></i>
                <h1 class="text-xl font-bold">연구실 서버 접속 가이드</h1>
            </div>
            <span class="text-xs bg-indigo-500 px-2 py-1 rounded text-indigo-100">초보자용 v1.0</span>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-6 py-8 space-y-12">

        <!-- Info Banner -->
        <section class="bg-white rounded-2xl p-8 shadow-sm border border-slate-200 text-center">
            <h2 class="text-2xl font-bold mb-6 text-slate-800">서버 접속 정보</h2>
            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-slate-100 p-4 rounded-xl flex flex-col items-center justify-center relative group">
                    <span class="text-sm text-slate-500 mb-1">IP 주소 (서버 위치)</span>
                    <strong class="text-2xl text-indigo-600 font-mono tracking-wider">10.150.20.140</strong>
                    <button onclick="copyText('10.150.20.140')" class="absolute right-2 top-2 p-2 text-slate-400 hover:text-indigo-600 transition-colors" title="복사하기">
                        <i data-lucide="copy" class="w-4 h-4"></i>
                    </button>
                </div>
                <div class="bg-slate-100 p-4 rounded-xl flex flex-col items-center justify-center relative">
                    <span class="text-sm text-slate-500 mb-1">Port (문 번호)</span>
                    <strong class="text-2xl text-indigo-600 font-mono tracking-wider">48000</strong>
                    <button onclick="copyText('48000')" class="absolute right-2 top-2 p-2 text-slate-400 hover:text-indigo-600 transition-colors" title="복사하기">
                        <i data-lucide="copy" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Steps Container -->
        <div class="space-y-8">
            
            <!-- Step 1 -->
            <section class="step-card bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-slate-200 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-2 h-full bg-indigo-500"></div>
                <div class="flex items-start gap-4">
                    <div class="bg-indigo-100 text-indigo-600 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">1</div>
                    <div class="w-full">
                        <h3 class="text-xl font-bold mb-2">접속용 열쇠(SSH Key) 만들기</h3>
                        <p class="text-slate-600 mb-4">이 서버는 비밀번호 대신 '파일 열쇠'를 사용합니다. 내 컴퓨터에서 열쇠를 만들어야 합니다.</p>
                        
                        <!-- OS Selector -->
                        <div class="flex gap-2 mb-4 bg-slate-100 p-1 rounded-lg w-fit">
                            <button onclick="setOS('windows')" id="btn-windows" class="px-4 py-2 rounded-md text-sm font-medium bg-white shadow text-indigo-600 transition-all">Windows</button>
                            <button onclick="setOS('mac')" id="btn-mac" class="px-4 py-2 rounded-md text-sm font-medium text-slate-500 hover:bg-white/50 transition-all">Mac / Linux</button>
                        </div>

                        <div id="content-windows" class="bg-slate-900 rounded-xl p-4 text-slate-100 code-block text-sm overflow-x-auto">
                            <p class="text-slate-400 mb-2"># Windows 검색창(Win키)에서 "PowerShell"을 검색해 실행 후 아래 명령어를 입력하세요.</p>
                            <div class="flex justify-between items-center bg-slate-800 p-3 rounded mb-2">
                                <code class="text-green-400">ssh-keygen -t ed25519</code>
                                <button onclick="copyText('ssh-keygen -t ed25519')" class="text-slate-400 hover:text-white"><i data-lucide="copy" class="w-4 h-4"></i></button>
                            </div>
                            <p class="text-slate-400 text-xs mt-2">
                                ※ 실행 후 질문이 나오면 아무것도 입력하지 말고 <span class="text-yellow-400 font-bold">Enter 키를 3번</span> 누르세요.
                            </p>
                        </div>

                        <div id="content-mac" class="hidden bg-slate-900 rounded-xl p-4 text-slate-100 code-block text-sm overflow-x-auto">
                            <p class="text-slate-400 mb-2"># 터미널(Terminal) 앱을 열고 아래 명령어를 입력하세요.</p>
                            <div class="flex justify-between items-center bg-slate-800 p-3 rounded mb-2">
                                <code class="text-green-400">ssh-keygen -t ed25519</code>
                                <button onclick="copyText('ssh-keygen -t ed25519')" class="text-slate-400 hover:text-white"><i data-lucide="copy" class="w-4 h-4"></i></button>
                            </div>
                            <p class="text-slate-400 text-xs mt-2">
                                ※ 실행 후 질문이 나오면 아무것도 입력하지 말고 <span class="text-yellow-400 font-bold">Enter 키를 3번</span> 누르세요.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 2 -->
            <section class="step-card bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-slate-200 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-2 h-full bg-blue-500"></div>
                <div class="flex items-start gap-4">
                    <div class="bg-blue-100 text-blue-600 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">2</div>
                    <div class="w-full">
                        <h3 class="text-xl font-bold mb-2">열쇠(Public Key) 확인하고 관리자에게 보내기</h3>
                        <p class="text-slate-600 mb-4">방금 만든 열쇠 내용(외계어 같은 문자열)을 복사해서 관리자(선배/조교)에게 카톡이나 메일로 보내야 계정이 생성됩니다.</p>
                        
                        <div class="bg-slate-100 p-4 rounded-xl border border-slate-200">
                            <p class="text-sm font-bold text-slate-700 mb-2">아래 명령어를 입력하면 열쇠 내용이 화면에 나옵니다. 드래그해서 복사하세요.</p>
                            <div class="bg-white p-3 rounded border border-slate-300 flex justify-between items-center code-block text-sm">
                                <code class="text-pink-600 break-all select-all">cat ~/.ssh/id_ed25519.pub</code>
                                <button onclick="copyText('cat ~/.ssh/id_ed25519.pub')" class="ml-2 text-slate-400 hover:text-blue-600 flex-shrink-0"><i data-lucide="copy" class="w-4 h-4"></i></button>
                            </div>
                            <div class="mt-4 p-3 bg-blue-50 text-blue-800 text-xs rounded-lg">
                                <strong>💡 예시:</strong> ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAI... (이런 긴 줄 전체를 복사해서 보내세요)
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 3 -->
            <section class="step-card bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-slate-200 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-2 h-full bg-green-500"></div>
                <div class="flex items-start gap-4">
                    <div class="bg-green-100 text-green-600 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">3</div>
                    <div class="w-full">
                        <h3 class="text-xl font-bold mb-2">서버 접속하기</h3>
                        <p class="text-slate-600 mb-4">관리자가 "계정 생성 완료되었습니다"라고 하면, 아래 명령어로 접속합니다.</p>
                        
                        <div class="bg-slate-900 text-white p-6 rounded-xl shadow-inner">
                            <label class="text-xs text-slate-400 uppercase font-bold mb-1 block">접속 명령어 생성기</label>
                            <div class="flex flex-col md:flex-row gap-3 mb-4">
                                <input type="text" id="usernameInput" placeholder="부여받은 ID 입력 (예: gildong)" class="bg-slate-800 border border-slate-600 text-white text-sm rounded-lg p-2.5 flex-1 focus:ring-green-500 focus:border-green-500 outline-none transition-colors">
                            </div>
                            
                            <div class="bg-black p-4 rounded border border-slate-700 flex justify-between items-center">
                                <code id="sshCommand" class="text-green-400 font-mono text-sm break-all">ssh -p 48000 <span class="text-yellow-400">[ID]</span>@10.150.20.140</code>
                                <button onclick="copyCommand()" class="ml-4 text-slate-400 hover:text-white"><i data-lucide="copy" class="w-5 h-5"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 4 -->
            <section class="step-card bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-slate-200 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-2 h-full bg-purple-500"></div>
                <div class="flex items-start gap-4">
                    <div class="bg-purple-100 text-purple-600 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">4</div>
                    <div class="w-full">
                        <h3 class="text-xl font-bold mb-2">필수 환경 사용법 (중요!)</h3>
                        <p class="text-slate-600 mb-4">이 서버는 <strong>GPU 모드</strong>(기본)와 <strong>ROOT 모드</strong>(설치용)가 분리되어 있습니다.</p>
                        
                        <div class="grid md:grid-cols-2 gap-4">
                            <!-- GPU Mode -->
                            <div class="border border-green-200 bg-green-50 p-4 rounded-xl">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="bg-green-600 text-white text-xs px-2 py-1 rounded font-bold">기본</span>
                                    <h4 class="font-bold text-green-800">GPU 모드</h4>
                                </div>
                                <p class="text-sm text-green-700 mb-3">평소에 연구하고 코드 돌릴 때 사용합니다.</p>
                                <ul class="text-xs text-green-800 space-y-1 list-disc pl-4">
                                    <li>프롬프트가 <span class="font-mono text-green-600">[GPU] user@host...</span> 로 보임</li>
                                    <li><code>python train.py</code> 실행 가능</li>
                                    <li><code>pip install</code> 가능</li>
                                </ul>
                            </div>

                            <!-- Root Mode -->
                            <div class="border border-red-200 bg-red-50 p-4 rounded-xl">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="bg-red-600 text-white text-xs px-2 py-1 rounded font-bold">관리자</span>
                                    <h4 class="font-bold text-red-800">ROOT 모드</h4>
                                </div>
                                <p class="text-sm text-red-700 mb-3">패키지를 설치(apt-get)할 때만 잠깐 사용합니다.</p>
                                <ul class="text-xs text-red-800 space-y-1 list-disc pl-4">
                                    <li>프롬프트가 <span class="font-mono text-red-600">[ROOT] user@host...</span> 로 보임</li>
                                    <li><code>apt update</code>, <code>apt install</code> 가능</li>
                                </ul>
                            </div>
                        </div>

                        <div class="mt-4 bg-slate-800 text-slate-200 p-4 rounded-xl text-sm">
                            <p class="font-bold text-white mb-2">🔄 모드 전환 명령어 (외워두세요!)</p>
                            <div class="grid gap-2">
                                <div class="flex justify-between items-center border-b border-slate-700 pb-2">
                                    <span>설치하러 갈 때 (GPU → ROOT)</span>
                                    <code class="text-yellow-400 font-mono bg-slate-700 px-2 py-1 rounded">lab_root_shell</code>
                                </div>
                                <div class="flex justify-between items-center pt-1">
                                    <span>다시 연구하러 갈 때 (ROOT → GPU)</span>
                                    <code class="text-green-400 font-mono bg-slate-700 px-2 py-1 rounded">lab_gpu_shell</code>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>

        <!-- Toast Notification -->
        <div id="toast" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white px-6 py-3 rounded-full shadow-xl opacity-0 transition-opacity duration-300 pointer-events-none flex items-center gap-2 z-50">
            <i data-lucide="check-circle" class="w-4 h-4 text-green-400"></i>
            <span class="text-sm font-medium">복사되었습니다!</span>
        </div>

    </main>

    <footer class="bg-slate-100 py-8 text-center text-slate-500 text-sm">
        <p>Lab Server Access Guide for Beginners</p>
    </footer>

    <script>
        // Icons
        lucide.createIcons();

        // OS Switcher
        function setOS(os) {
            const winBtn = document.getElementById('btn-windows');
            const macBtn = document.getElementById('btn-mac');
            const winContent = document.getElementById('content-windows');
            const macContent = document.getElementById('content-mac');

            if (os === 'windows') {
                winBtn.className = "px-4 py-2 rounded-md text-sm font-medium bg-white shadow text-indigo-600 transition-all";
                macBtn.className = "px-4 py-2 rounded-md text-sm font-medium text-slate-500 hover:bg-white/50 transition-all";
                winContent.classList.remove('hidden');
                macContent.classList.add('hidden');
            } else {
                winBtn.className = "px-4 py-2 rounded-md text-sm font-medium text-slate-500 hover:bg-white/50 transition-all";
                macBtn.className = "px-4 py-2 rounded-md text-sm font-medium bg-white shadow text-indigo-600 transition-all";
                winContent.classList.add('hidden');
                macContent.classList.remove('hidden');
            }
        }

        // Copy Function
        function copyText(text) {
            // Create a temporary textarea to handle copy
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            
            showToast();
        }

        // SSH Command Generator
        const usernameInput = document.getElementById('usernameInput');
        const sshCommandDisplay = document.getElementById('sshCommand');

        usernameInput.addEventListener('input', (e) => {
            const username = e.target.value.trim() || '[ID]';
            const displayUsername = username === '[ID]' ? '<span class="text-yellow-400">[ID]</span>' : username;
            sshCommandDisplay.innerHTML = `ssh -p 48000 ${displayUsername}@10.150.20.140`;
        });

        function copyCommand() {
            const username = usernameInput.value.trim();
            if(!username) {
                alert('ID를 먼저 입력해주세요!');
                usernameInput.focus();
                return;
            }
            copyText(`ssh -p 48000 ${username}@10.150.20.140`);
        }

        // Toast Notification
        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('opacity-0');
            setTimeout(() => {
                toast.classList.add('opacity-0');
            }, 2000);
        }
    </script>
</body>
</html>
